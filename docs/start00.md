---
id: start00
title: Настройка рабочего окружения на Windows 10
sidebar_label: Настройка Windows 10
---

Данная статья поможет настроить рабочее окружение React Native на операционной системе Windows 10.

![Step00](/img/steps/00.png)

## Установка Chocolatey

Для начала работы нужно установить менеджер пакетов Chocolatey.
Сначала нужно убедиться что на вашем компьютере установлен NET Framework 4 или старше, а также Java последней версии. Также пользователь должен иметь права администратора и на всех этапах установки должен быть подключен Интернет.
Далее нужно запустить оболочку PowerShell. Для этого в меню пуск вводим PowerShell и через контекстное меню выбираем "Запустить от имени администратора".
После этого откроется оболочка в консольном режиме PowerShell.
Далее в этой оболочке вводим команду:

```bash
Get-ExecutionPolicy
```

![Chocolatey](/img/rn/00/00.jpg)

Для проверки возможности запуска скриптов от сторонних производителей (По умолчанию данный режим заблокирован - Restricted).

![Chocolatey](/img/rn/00/01.jpg)

Чтобы разрешить выполнение сторонних скриптов, нужно ввести команду:

```bash
 Set-ExecutionPolicy Bypass -Scope Process
```

После этого PowerShell потребует подтверждения, отвечаем буквой Y. Теперь мы можем использовать сторонние скрипты.

![PowerShell](/img/rn/00/02.jpg)

Проверим разблокировку запуска скриптов из консоли предыдущей командой:

```bash
Get-ExecutionPolicy
```

При успешном выполнении ответом будет `Bypass`.

![Bypass](/img/rn/00/03.jpg)

Теперь вставляем следующую команду:

```bash
Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
```

После этого начнется загрузка Chocolatey. После окончания загрузки можно проверить установлена ли программа. Для этого вводим в PowerShell команду:

```bash
choco
```

или точнее

```bash
choco -v
```

![choco](/img/rn/00/04.jpg)

На время написание данной статьи версия Chocolatey v0.10.15.

![Step01](/img/steps/01.png)

## Установка пакетов Node, Python2, JDK

Теперь можно приступать к установке пакетов.
Устанавливаем пакеты Node, Python2, JDK через PowerShell командой:

```bash
choco install -y nodejs.install python2 openjdk8
```

![choco](/img/rn/00/05.jpg)

Начнётся загрузка и установка данных пакетов. После установки каждого пакета будет соответствующая надпись о том что он установлен успешно (successful).

![Step02](/img/steps/02.png)

## Установка Android Studio

Загружаем и устанавливаем Android Studio, [с официального сайта](https://developer.android.com/studio). Версия на момент написания этой инструкции 4.0.1
Во время установки убедитесь что пункты Android SDK, Android SDK Platform, Android Virtual Device, были выбраны. Так же убедитесь что пути установки стандартны,
:::caution Для установки требуется порядка 20 Гб дискового пространства. Можно установить пакет на диск D:, но тогда потребуется установить переменные окружения пользователя.
:::
После завершения установки запустите Android Studio и выберите стандартную установку.

![Android Studio](/img/rn/00/06.jpg)

После установки, в начальном окне Android Studio открываем справа снизу пункт `Configure`.

![Android Studio](/img/rn/00/07.jpg)

Далее в нем выбираем `SDK Manager`. Далее внизу справа поставьте галочку в чекбоксе `Show Package Details` для раскрытия дополнительных настроек. Отметьте в разделе `Android 10 (Q)` чекбокс `Intel x86 Atom_64 System Image` или `Google APIs Intel x86 Atom System Image`
Далее откройте вкладку `SDK Tools` и отметьте чекбокс `Show Package Details`.

![SDK Manager](/img/rn/00/08.jpg)

Убедитесь что под пунктом `Android SDK Build-Tools` выбран чекбокс 29.0.2

![SDK Manager](/img/rn/00/09.jpg)

Нажмите `Apply` далее согласитесь на установку.

![Step03](/img/steps/03.png)

## Настройка переменных среды

Для того чтобы настроить переменные среды, нужно открыть панель управления.
Заходим в меня пуск и вводим в поиск `Панель управления`
Далее выбираем пункт `Учетные записи пользователей`.

![User](/img/rn/00/10.jpg)

В этом пункте выбираем `Изменение переменных среды`.

![Path](/img/rn/00/11.jpg)

В открывшемся окне нажимаем кнопку `Создать` В поле `Имя переменной:` пишем ANDROID_HOME
Далее нажимаем кнопку `Обзор каталога` и выбираем каталог установки Android SDK, по умолчанию это `%LOCALAPPDATA%\Android\Sdk` Путь до Android SDK можно узнать в пункте настроек `SDK Manager`.

![Path](/img/rn/00/12.jpg)

Нажимаем ОК и проверяем изменение параметров сред. Для этого вводим в PowerShell команду:

```bash
Get-ChildItem -Path Env:\
```

Если пути не обновились необходимо перезагрузить компьютер и проверить заново.  
Далее нужно добавить еще одну переменную. Для этого снова открываем `Изменение переменных среды`, выбираем переменную Path и нажимаем кнопку `Изменить`.
В новом открывшемся окне нажимаем кнопку `Обзор` и указываем папку по следующему пути `%LOCALAPPDATA%\Android\Sdk\platform-tools` (При установке в стандартный каталог).

![Path](/img/rn/00/13.jpg)

![Step04](/img/steps/04.png)

## Настройка эмулятора

Для того что бы создать или настроить эмулятор нужно, находясь на главном окне Android Studio, выбрать пункт `Configure` -> `AVD Manager`.

![AVD Manager](/img/rn/00/14.jpg)

Далее нажать кнопку `Create Virtual Device...`,

![AVD Manager](/img/rn/00/15.jpg)

выбираем модель эмулируемого телефона (Например, Pixel 2) и нажимаем кнопку `Next`.

![Pixel2](/img/rn/00/16.jpg)

В открывшемся окне в столбце Release Name выбрать `Q Download` (Download является ссылкой на скачивание выбранного образа эмулятора), скачивание и установка начнется автоматически.
На момент создания инструкции рекомендуемый API Level 29, при установке уточните актуальную версию.

![Q Downloader](/img/rn/00/17.jpg)

Затем нажмите `Next`->`Finish`.
Можно проверить работу эмулятора нажав на зеленую кнопку в форме треугольника, должен появится интерфейс в виде сотового телефона.

![Next](/img/rn/00/18.jpg)

![Step05](/img/steps/05.png)

## Подключение реального Андроид девайса

Если возникли проблемы с эмулятором, не отчаивайтесь, можно использовать реальный телефон.
Для этого нужно стать разработчиком в своем телефоне. Для этого переходим в настройки телефона и выбираем пункт `Об устройстве` Далее нужно найти пункт `Версия...` и нажать 5-7 до того пока не появится надпись "Вы стали разработчиком"
Подключаем телефон через USB кабель и в зависимости от прошивки включаем режим отладки по USB. Для каждой прошивки алгоритм включения отличается друг от друга. [Подробнее](https://reactnative.dev/docs/running-on-device)

![Step06](/img/steps/06.png)

## Создание проекта React Native

Чтобы создать проект на React Native нужно запустить PowerShell от имени администратора, затем в нем с помощью команды `cd` перейти в папку c Вашим проектом, например `cd D:\MyProject`
Далее вводим команду:

```bash
npx react-native init AwesomeProject
```

![react-native init](/img/rn/00/19.jpg)

После завершения загрузки переходим в папку с созданным проектом и вводим команду запуска `Metro Bundler`:

```bash
cd AwesomeProject
npx react-native start
```

![react-native start](/img/rn/00/20.jpg)

Данная команда запустит `Metro Bundler` и скомпилирует проект. Она объединяет весь ваш код Javascript в один файл и переводит любой код Javascript, который ваше устройство не поймет (например, JSX или некоторые из новых синтаксисов JS). В дальнейшем окно PowerShell не закрываем, но можно свернуть его в фоновый режим.
Далее подключаем телефон с включенным режимом отладки по USB, либо запускаем Эмулятор. Открываем новое окно PowerShell, при помощи команды `cd` снова переходим в папку с проектом и поочередно выполняем данные команды:

```bash
cd AwesomeProject
npx react-native run-android
```

![react-native run-android](/img/rn/00/21.jpg)

На экране эмулятора или телефона должен появится экран приветствия React Native.

![React Native](/img/rn/00/22.jpg)

![Step07](/img/steps/07.png)

## Редактирование кода в приложении - Hello World

Для редактирования кода открываем папку с проектом любым редактором кода (Рекомендуем VS Code). Редактирование начинаем с файла `App.js`. При изменении и сохранении кода, `Ctrl + S`, происходит автоматическое обновление интерфейса нашего приложения на экране эмулятора.
Вставьте в файл `App.js` следующий код:

```jsx
import React from 'react'
import { Text } from 'react-native'

const App = () => {
  const { h1 } = styles
  return (
    <>
      <Text style={h1}>Hello World</Text>
    </>
  )
}

const styles = StyleSheet.create({
  h1: {
    backgroundColor: '#BEFCE5',
    color: '#000',
    fontSize: 25,
    fontWeight: '600',
    padding: 20,
    textAlign: 'center'
  }
})

export default App
```

![Hello World](/img/rn/00/23.jpg)

Вот так просто!

## Ссылки:

1. [React Native, официальная документация](https://reactnative.dev/docs/environment-setup)
2. [Установка Chocolatey, официальная документация](https://chocolatey.org/install)
3. [Android Studio, официальный сайт](https://developer.android.com/studio)

## Done ✅

[![Become a Patron!](/img/logo/patreon.png)](https://www.patreon.com/bePatron?u=31769291)
